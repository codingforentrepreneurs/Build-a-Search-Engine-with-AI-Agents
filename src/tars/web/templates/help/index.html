{% extends "base.html" %}

{% block title %}Help - tars{% endblock %}

{% block content %}
<div class="space-y-8">
    <!-- Header -->
    <div>
        <h1 class="text-3xl font-bold text-slate-900 dark:text-white">Help</h1>
        <p class="mt-2 text-slate-600 dark:text-slate-400">
            tars is a personal search engine for storing and searching links with hybrid search capabilities.
        </p>
    </div>

    <!-- Features Grid -->
    <div>
        <h2 class="text-xl font-semibold text-slate-900 dark:text-white mb-4">Features</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            {% for feature in features %}
            <div class="bg-white dark:bg-slate-800 rounded-lg p-4 border border-slate-200 dark:border-slate-700">
                <div class="flex items-start space-x-3">
                    <div class="flex-shrink-0 w-10 h-10 bg-primary-100 dark:bg-primary-900 rounded-lg flex items-center justify-center">
                        {% if feature.icon == 'search' %}
                        <svg class="w-5 h-5 text-primary-600 dark:text-primary-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                        {% elif feature.icon == 'globe' %}
                        <svg class="w-5 h-5 text-primary-600 dark:text-primary-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        {% elif feature.icon == 'cpu' %}
                        <svg class="w-5 h-5 text-primary-600 dark:text-primary-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"></path>
                        </svg>
                        {% elif feature.icon == 'plug' %}
                        <svg class="w-5 h-5 text-primary-600 dark:text-primary-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                        </svg>
                        {% endif %}
                    </div>
                    <div>
                        <h3 class="font-medium text-slate-900 dark:text-white">{{ feature.title }}</h3>
                        <p class="mt-1 text-sm text-slate-600 dark:text-slate-400">{{ feature.desc }}</p>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- CLI Commands -->
    <div>
        <h2 class="text-xl font-semibold text-slate-900 dark:text-white mb-4">CLI Commands</h2>
        <div class="space-y-6">
            {% for section, cmds in commands.items() %}
            <div class="bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 overflow-hidden">
                <div class="px-4 py-3 bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700">
                    <h3 class="font-medium text-slate-900 dark:text-white">{{ section }}</h3>
                </div>
                <div class="divide-y divide-slate-200 dark:divide-slate-700">
                    {% for item in cmds %}
                    <div class="px-4 py-3 flex flex-col sm:flex-row sm:items-center gap-2">
                        <code class="text-sm font-mono bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded text-primary-600 dark:text-primary-400 whitespace-nowrap">{{ item.cmd }}</code>
                        <span class="text-sm text-slate-600 dark:text-slate-400">{{ item.desc }}</span>
                    </div>
                    {% endfor %}
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- Web Interface -->
    <div>
        <h2 class="text-xl font-semibold text-slate-900 dark:text-white mb-4">Web Interface</h2>
        <div class="bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 overflow-hidden">
            <div class="divide-y divide-slate-200 dark:divide-slate-700">
                <div class="px-4 py-3 flex items-center gap-3">
                    <a href="/search" class="text-primary-600 dark:text-primary-400 hover:underline font-medium">Search</a>
                    <span class="text-sm text-slate-600 dark:text-slate-400">Search your links with hybrid, keyword, or vector modes</span>
                </div>
                <div class="px-4 py-3 flex items-center gap-3">
                    <a href="/links" class="text-primary-600 dark:text-primary-400 hover:underline font-medium">Links</a>
                    <span class="text-sm text-slate-600 dark:text-slate-400">Browse and manage stored links</span>
                </div>
                <div class="px-4 py-3 flex items-center gap-3">
                    <a href="/links/add" class="text-primary-600 dark:text-primary-400 hover:underline font-medium">Add Link</a>
                    <span class="text-sm text-slate-600 dark:text-slate-400">Add new URLs to your collection</span>
                </div>
                <div class="px-4 py-3 flex items-center gap-3">
                    <a href="/crawl" class="text-primary-600 dark:text-primary-400 hover:underline font-medium">Crawl</a>
                    <span class="text-sm text-slate-600 dark:text-slate-400">Crawl links to extract content for search</span>
                </div>
                <div class="px-4 py-3 flex items-center gap-3">
                    <a href="/db" class="text-primary-600 dark:text-primary-400 hover:underline font-medium">Database</a>
                    <span class="text-sm text-slate-600 dark:text-slate-400">View database status and manage embeddings</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Tips -->
    <div>
        <h2 class="text-xl font-semibold text-slate-900 dark:text-white mb-4">Quick Tips</h2>
        <div class="bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4">
            <ul class="space-y-2 text-sm text-slate-600 dark:text-slate-400">
                <li class="flex items-start gap-2">
                    <span class="text-primary-500 mt-0.5">*</span>
                    <span>Use <code class="bg-slate-100 dark:bg-slate-700 px-1 rounded">tars search</code> for best results - it combines keyword and semantic matching</span>
                </li>
                <li class="flex items-start gap-2">
                    <span class="text-primary-500 mt-0.5">*</span>
                    <span>Crawl links after adding them to enable full-text search on their content</span>
                </li>
                <li class="flex items-start gap-2">
                    <span class="text-primary-500 mt-0.5">*</span>
                    <span>Run <code class="bg-slate-100 dark:bg-slate-700 px-1 rounded">tars db vector embed</code> to enable semantic search</span>
                </li>
                <li class="flex items-start gap-2">
                    <span class="text-primary-500 mt-0.5">*</span>
                    <span>Use glob patterns with remove: <code class="bg-slate-100 dark:bg-slate-700 px-1 rounded">tars remove '*.example.com/*'</code></span>
                </li>
            </ul>
        </div>
    </div>
</div>
{% endblock %}
